% generated by Docutils <http://docutils.sourceforge.net/>
\documentclass[c,english]{beamer}
\usepackage{hyperref}

\definecolor{rrblitbackground}{rgb}{0.55, 0.3, 0.1}

\newenvironment{rtbliteral}{

\begin{ttfamily}

\color{rrblitbackground}

}{

\end{ttfamily}

}

\usepackage{fancyvrb}

\usepackage{color}

\usetheme{Warsaw}

\setbeameroption{hide notes}


\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.25,0.82}{##1}}}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.50,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother

\usepackage{fixltx2e} % LaTeX patches, \textsubscript
\usepackage{cmap} % fix search and cut-and-paste in PDF
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage{ifthen}
\usepackage{babel}
\usepackage{graphicx}

%%% Custom LaTeX preamble
% PDF Standard Fonts
\usepackage{mathptmx} % Times
\usepackage[scaled=.90]{helvet}
\usepackage{courier}

%%% User specified packages and stylesheets

%%% Fallback definitions for Docutils-specific commands

% titlereference role
\providecommand*{\DUroletitlereference}[1]{\textsl{#1}}
\hypersetup{
  pdftitle={Python Profiling},
  pdfauthor={Amjith Ramanujam}
}

%%% Body
\begin{document}

% Document title
\title[Python Profiling]{Python Profiling%
  \phantomsection%
  \label{python-profiling}}
\author[Amjith Ramanujam]{Amjith Ramanujam}
\date{@amjithr}
\institute{UTOS}
\maketitle

% colors

% ===========================

% general useful commands

% ===========================

% closed bracket

% ===========================

% example block

% ===========================

% block

% ===========================

% alert block

% ===========================

% columns

% ===========================

\begin{frame}[fragile]
\frametitle{Profiling a Python Script}


\begin{block}{ What is Profiling? }

Where is the time spent?

\end{block}

\pause

\begin{block}{ Why? }
\begin{itemize}

\item Know the bottle-necks.

\item Optimize intelligently.
\end{itemize}

\end{block}

\DUroletitlereference{In God we trust everyone else bring data.}
\end{frame}

\begin{frame}[fragile]
\frametitle{Profiling Tools}


\begin{block}{ Standard Library }
\begin{itemize}

\item cProfile

\item Profile  (older pure python implementation)

\item hotshot  (deprecated)

\item timeit
\end{itemize}

\end{block}

\begin{block}{ Third Party }
\begin{itemize}

\item line\_profiler

\item memory\_profiler
\end{itemize}

\end{block}

\begin{block}{ Commercial - Web Application }
\begin{itemize}

\item New Relic
\end{itemize}

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{cProfile}


\begin{block}{ \centering \LARGE cProfile }

\centering \Large Introduction

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Let's use cProfile}


\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{cProfile}\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}
\PY{+w}{ }\PY{+w}{ }7780242\PY{+w}{ }\PY{k}{function}\PY{+w}{ }\PY{n}{calls}\PY{+w}{ }\PY{n}{in}\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{n}{seconds}

\PY{+w}{ }\PY{n}{Ordered}\PY{+w}{ }\PY{n}{by}\PY{p}{:}\PY{+w}{ }\PY{n}{standard}\PY{+w}{ }\PY{n}{name}

\PY{+w}{ }\PY{n}{ncalls}\PY{+w}{ }\PY{+w}{ }\PY{n}{tottime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{+w}{ }\PY{n}{cumtime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{n}{filename}\PY{p}{:}\PY{n}{lineno}\PY{p}{(}\PY{k}{function}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}\PY{p}{:}3\PY{p}{(}\PY{o}{\PYZlt{}}\PY{n}{module}\PY{o}{\PYZgt{}}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}713\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}713\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}\PY{p}{:}3\PY{p}{(}\PY{n+nb}{lcm}\PY{p}{)}
3890120\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}881\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}881\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{max}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{method}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{disable'}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{\PYZus{}lsprof.Profiler'}\PY{+w}{ }\PY{n}{objects}\PY{p}{\PYZcb{}}
3890119\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}880\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}880\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{min}\PY{p}{\PYZcb{}}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Lowest Common Multiplier}


\textbf{Problem}

Given two numbers a,b find the lowest number c that is divisible by both a and b.
eg: lcm(2,3) is 6

\pause

\textbf{Algorithm:}
\setbeamerfont{quote}{parent={}}
%
\begin{quote}{\ttfamily \raggedright \noindent
1.~Start~i~from~the~max(a,b)\\
2.~If~i~is~perfectly~divisible~by~a~and~b\\
~~~~i~is~the~answer\\
3.~Increment~i~by~max(a,b).~Goto~Step~1.
}
\end{quote}
\setbeamerfont{quote}{parent=quotation}
\end{frame}

\begin{frame}[fragile]
\frametitle{Lowest Common Multiplier (ver 1)}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}}\PY{+w}{ }\PY{c}{lcm.py}
\PY{k}{def}\PY{+w}{ }\PY{n+nf}{lcm}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{=}\PY{+w}{ }\PY{n+nb}{max}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{while}\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{+w}{ }\PY{p}{(}\PY{n}{arg1}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{if}\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{\PYZpc{}}\PY{+w}{ }\PY{n+nb}{min}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{n}{arg2}\PY{p}{)}\PY{+w}{ }\PY{o}{==}\PY{+w}{ }\PY{l+m+mi}{0}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{i}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{+}\PY{o}{=}\PY{+w}{ }\PY{n+nb}{max}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{n}{arg2}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{p}{(}\PY{n}{arg1}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}

\PY{n}{lcm}\PY{p}{(}\PY{l+m+mi}{21498497}\PY{p}{,}\PY{+w}{ }\PY{l+m+mi}{3890120}\PY{p}{)}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Let's Profile (ver 1)}


\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{cProfile}\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}
\PY{+w}{ }\PY{+w}{ }7780242\PY{+w}{ }\PY{k}{function}\PY{+w}{ }\PY{n}{calls}\PY{+w}{ }\PY{n}{in}\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{n}{seconds}

\PY{+w}{ }\PY{n}{Ordered}\PY{+w}{ }\PY{n}{by}\PY{p}{:}\PY{+w}{ }\PY{n}{standard}\PY{+w}{ }\PY{n}{name}

\PY{+w}{ }\PY{n}{ncalls}\PY{+w}{ }\PY{+w}{ }\PY{n}{tottime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{+w}{ }\PY{n}{cumtime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{n}{filename}\PY{p}{:}\PY{n}{lineno}\PY{p}{(}\PY{k}{function}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}\PY{p}{:}3\PY{p}{(}\PY{o}{\PYZlt{}}\PY{n}{module}\PY{o}{\PYZgt{}}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}713\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}713\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}474\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}\PY{p}{:}3\PY{p}{(}\PY{n+nb}{lcm}\PY{p}{)}
3890120\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}881\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}881\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{max}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{method}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{disable'}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{\PYZus{}lsprof.Profiler'}\PY{+w}{ }\PY{n}{objects}\PY{p}{\PYZcb{}}
3890119\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}880\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}880\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{min}\PY{p}{\PYZcb{}}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Lowest Common Multiplier (ver 2)}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{\PYZsh{}}\PY{+w}{ }\PY{c}{lcm.py}
\PY{k}{def}\PY{+w}{ }\PY{n+nf}{ver\PYZus{}2}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{mx}\PY{+w}{ }\PY{o}{=}\PY{+w}{ }\PY{n+nb}{max}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{mn}\PY{+w}{ }\PY{o}{=}\PY{+w}{ }\PY{n+nb}{min}\PY{p}{(}\PY{n}{arg1}\PY{p}{,}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{=}\PY{+w}{ }\PY{n}{mx}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{while}\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{+w}{ }\PY{p}{(}\PY{n}{arg1}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{if}\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{\PYZpc{}}\PY{+w}{ }\PY{n}{mn}\PY{+w}{ }\PY{o}{==}\PY{+w}{ }\PY{l+m+mi}{0}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{i}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{i}\PY{+w}{ }\PY{o}{+}\PY{o}{=}\PY{+w}{ }\PY{n}{mx}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{p}{(}\PY{n}{arg1}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }\PY{n}{arg2}\PY{p}{)}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Let's Profile (ver 2)}


\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{cProfile}\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}
\PY{+w}{ }\PY{+w}{ }5\PY{+w}{ }\PY{k}{function}\PY{+w}{ }\PY{n}{calls}\PY{+w}{ }\PY{n}{in}\PY{+w}{ }0\PY{p}{.}774\PY{+w}{ }\PY{n}{seconds}

\PY{n}{Ordered}\PY{+w}{ }\PY{n}{by}\PY{p}{:}\PY{+w}{ }\PY{n}{standard}\PY{+w}{ }\PY{n}{name}
\PY{n}{ncalls}\PY{+w}{ }\PY{+w}{ }\PY{n}{tottime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{+w}{ }\PY{n}{cumtime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{n}{filename}\PY{p}{:}\PY{n}{lineno}\PY{p}{(}\PY{k}{function}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}763\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}763\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}\PY{p}{:}2\PY{p}{(}\PY{o}{\PYZlt{}}\PY{n}{module}\PY{o}{\PYZgt{}}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}763\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}763\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}763\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}763\PY{+w}{ }\PY{n+nb}{lcm}\PY{p}{.}\PY{n}{py}\PY{p}{:}2\PY{p}{(}\PY{n+nb}{lcm}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{max}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{method}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{disable'}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{\PYZus{}lsprof.Profiler'}\PY{+w}{ }\PY{n}{objects}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{min}\PY{p}{\PYZcb{}}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{pstats}


\begin{block}{ \centering \LARGE cProfile }

\centering \Large Large Programs

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Profiling Large Programs}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{+w}{ }\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{cProfile}\PY{+w}{ }\PY{n}{shorten}\PY{p}{.}\PY{n}{py}
\PY{+w}{ }\PY{+w}{ }95657\PY{+w}{ }\PY{k}{function}\PY{+w}{ }\PY{n}{calls}\PY{+w}{ }\PY{p}{(}93207\PY{+w}{ }\PY{n}{primitive}\PY{+w}{ }\PY{n}{calls}\PY{p}{)}\PY{+w}{ }\PY{n}{in}\PY{+w}{ }1\PY{p}{.}858\PY{+w}{ }\PY{n}{seconds}

\PY{+w}{ }\PY{+w}{ }\PY{n}{Ordered}\PY{+w}{ }\PY{n}{by}\PY{p}{:}\PY{+w}{ }\PY{n}{standard}\PY{+w}{ }\PY{n}{name}

\PY{n}{ncalls}\PY{+w}{ }\PY{+w}{ }\PY{n}{tottime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{+w}{ }\PY{n}{cumtime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{n}{filename}\PY{p}{:}\PY{n}{lineno}\PY{p}{(}\PY{k}{function}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }39\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}001\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{o}{\PYZlt{}}\PY{n}{lambda}\PY{o}{\PYZgt{}}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{o}{\PYZlt{}}\PY{n}{module}\PY{o}{\PYZgt{}}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedAlias}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedBooleanClauseList}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedCTE}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedClauseElement}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedClauseList}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedColumn}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedColumnClause}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedColumnElement}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedCompoundSelect}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedDelete}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedFromClause}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedFunction}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{\PYZlt{}}\PY{n}{string}\PY{o}{\PYZgt{}}\PY{p}{:}1\PY{p}{(}\PY{n}{AnnotatedFunctionElement}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{p}{.}\PY{p}{.}\PY{p}{.}\PY{p}{.}\PY{p}{.}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{p}{.}\PY{p}{.}\PY{p}{.}\PY{p}{.}\PY{p}{.}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Profiling Large Programs}


\textbf{Problem:}
\begin{itemize}

\item Profiles of bigger programs are messy.

\item Ordering by function name is useless.
\end{itemize}

\pause

\textbf{Solution:}
\begin{itemize}

\item Save the profile to a file.

\item Reload the profile and analyze using pStat.
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Save the Profile}


Let's save the profile to a file.

\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{cProfile}\PY{+w}{ }\PY{o}{-}\PY{n}{o}\PY{+w}{ }\PY{n}{shorten}\PY{p}{.}\PY{n}{prof}\PY{+w}{ }\PY{n}{shorten}\PY{p}{.}\PY{n}{py}

\PYZdl{}\PY{+w}{ }\PY{n}{ls}
\PY{n}{shorten}\PY{p}{.}\PY{n}{py}\PY{+w}{ }\PY{n}{shorten}\PY{p}{.}\PY{n}{prof}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Analyze the Profile}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{+w}{ }\PY{n}{import}\PY{+w}{ }\PY{n}{pstats}
\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{+w}{ }\PY{n}{p}\PY{+w}{ }\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{pstats}\PY{p}{.}\PY{n}{Stats}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{script.prof'}\PY{p}{)}
\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{+w}{ }\PY{n}{p}\PY{p}{.}\PY{n}{sort\PYZus{}stats}\PY{p}{(}\PY{l+s}{'}\PY{l+s}{calls'}\PY{p}{)}
\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{o}{\PYZgt{}}\PY{+w}{ }\PY{n}{p}\PY{p}{.}\PY{n}{print\PYZus{}stats}\PY{p}{(}5\PY{p}{)}

\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }95665\PY{+w}{ }\PY{k}{function}\PY{+w}{ }\PY{n}{calls}\PY{+w}{ }\PY{p}{(}93215\PY{+w}{ }\PY{n}{primitive}\PY{+w}{ }\PY{n}{calls}\PY{p}{)}\PY{+w}{ }\PY{n}{in}\PY{+w}{ }2\PY{p}{.}371\PY{+w}{ }\PY{n}{seconds}

\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{Ordered}\PY{+w}{ }\PY{n}{by}\PY{p}{:}\PY{+w}{ }\PY{n}{call}\PY{+w}{ }\PY{n}{count}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{List}\PY{+w}{ }\PY{n}{reduced}\PY{+w}{ }\PY{n}{from}\PY{+w}{ }1919\PY{+w}{ }\PY{n}{to}\PY{+w}{ }5\PY{+w}{ }\PY{n}{due}\PY{+w}{ }\PY{n}{to}\PY{+w}{ }\PY{n}{restriction}\PY{+w}{ }\PY{o}{\PYZlt{}}5\PY{o}{\PYZgt{}}

\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{ncalls}\PY{+w}{ }\PY{+w}{ }\PY{n}{tottime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{+w}{ }\PY{n}{cumtime}\PY{+w}{ }\PY{+w}{ }\PY{n}{percall}\PY{+w}{ }\PY{n}{filename}\PY{p}{:}\PY{n}{lineno}\PY{p}{(}\PY{k}{function}\PY{p}{)}
10819\PY{o}{/}10539\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}002\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}002\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{len}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }9432\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}002\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}002\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{method}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{append'}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{list'}\PY{+w}{ }\PY{n}{objects}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }6061\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}003\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}003\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{isinstance}\PY{p}{\PYZcb{}}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }3092\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}004\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}005\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{o}{/}\PY{n}{home}\PY{o}{/}\PY{n}{amjith}\PY{o}{/}\PY{p}{.}\PY{n}{virtualenvs}\PY{o}{/}\PY{n}{url\PYZus{}shortener}\PY{o}{/}\PY{n}{lib}\PY{o}{/}\PY{n}{python2}\PY{p}{.}7\PY{o}{/}\PY{n}{sre\PYZus{}parse}\PY{p}{.}\PY{n}{py}\PY{p}{:}182\PY{p}{(}\PY{n}{\PYZus{}\PYZus{}next}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2617\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}001\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}001\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}000\PY{+w}{ }\PY{p}{\PYZob{}}\PY{n}{method}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{endswith'}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{str'}\PY{+w}{ }\PY{n}{objects}\PY{p}{\PYZcb{}}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{RunSnakeRun}


\begin{block}{ \centering \LARGE RunSnakeRun }

\centering \Large Profile Viewer GUI

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{GUI Profile Viewer}

\begin{itemize}

\item A GUI viewer for python profiles

\item Shows the bigger picture

\item Requires wxPython
\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{pip}\PY{+w}{ }\PY{n}{install}\PY{+w}{ }\PY{n}{SquareMap}\PY{+w}{ }\PY{n}{RunSnakeRun}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Smart Optimization}


\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{runsnake}\PY{+w}{ }\PY{n}{script}\PY{p}{.}\PY{n}{prof}
\end{Verbatim}


\noindent\makebox[\textwidth][c]{\includegraphics[height=0.75\textheight]{runsnake.png}}

Clearly shows which parts are worth optimizing.
\end{frame}

\begin{frame}[fragile]
\frametitle{Decorators}


\begin{block}{ \centering \LARGE Profiling with Decorators }

\centering \Large Fine grained control

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Profiling Decorator}

\begin{itemize}

\item Easy to use.

\item Profiling specific functions in a larger program.
\end{itemize}

\textbf{https://gist.github.com/1283366}
\end{frame}

\begin{frame}[fragile]
\frametitle{Using Profiling Decorator}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{from}\PY{+w}{ }\PY{n}{profile\PYZus{}func}\PY{+w}{ }\PY{n}{import}\PY{+w}{ }\PY{n}{profile\PYZus{}func}
\PY{p}{@}\PY{n}{profile\PYZus{}func}\PY{p}{(}\PY{p}{)}
\PY{n}{def}\PY{+w}{ }\PY{n}{convert\PYZus{}id\PYZus{}to\PYZus{}code}\PY{p}{(}\PY{n}{row\PYZus{}id}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{digits}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}\PY{p}{]}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{base}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{len}\PY{p}{(}\PY{n}{ALPHABET}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{while}\PY{+w}{ }\PY{n}{row\PYZus{}id}\PY{+w}{ }\PY{o}{\PYZgt{}}\PY{+w}{ }0\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{digits}\PY{p}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row\PYZus{}id}\PY{+w}{ }\PY{c}{\PYZpc{}}\PY{+w}{ }\PY{c}{base)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{row\PYZus{}id}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{row\PYZus{}id}\PY{+w}{ }\PY{o}{/}\PY{+w}{ }\PY{n}{base}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{digits}\PY{p}{.}\PY{n}{reverse}\PY{p}{(}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{short\PYZus{}code}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{'}\PY{p}{.}\PY{n}{join}\PY{p}{(}\PY{p}{[}\PY{n}{ALPHABET}\PY{p}{[}\PY{n+nb}{i}\PY{p}{]}\PY{+w}{ }\PY{k}{for}\PY{+w}{ }\PY{n+nb}{i}\PY{+w}{ }\PY{n}{in}\PY{+w}{ }\PY{n}{digits}\PY{p}{]}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{short\PYZus{}code}

\PYZdl{}\PY{+w}{ }\PY{n}{ls}\PY{+w}{ }\PY{p}{.}\PY{n}{profile}
\PY{n}{convert\PYZus{}id\PYZus{}to\PYZus{}code}\PY{p}{.}\PY{n}{profile}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Line Profiler}


\begin{block}{ \centering \LARGE Line Profiler }

\centering \Large Fine Grain

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Line Profiler}

\begin{itemize}

\item Why?
\begin{itemize}

\item Sometimes function calls aren't enough information.
\end{itemize}

\item What?
\begin{itemize}

\item line-by-line stats on execution time.
\end{itemize}

\item How?
\begin{itemize}

\item \DUroletitlereference{\$ pip install line\_profiler}
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Usage and Output}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{p}{@}\PY{n}{profile}
\PY{n}{def}\PY{+w}{ }\PY{n}{compute}\PY{p}{(}\PY{n}{tokens}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{op\PYZus{}s}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{tokens}\PY{p}{[}0\PY{p}{]}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{nums}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{map}\PY{p}{(}\PY{n}{int}\PY{p}{,}\PY{+w}{ }\PY{n}{tokens}\PY{p}{[}1\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{if}\PY{+w}{ }\PY{n}{op\PYZus{}s}\PY{+w}{ }\PY{o}{==}\PY{+w}{ }"\PY{n}{power}"\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{result}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{reduce}\PY{p}{(}\PY{n}{op}\PY{p}{.}\PY{n}{pow}\PY{p}{,}\PY{+w}{ }\PY{n}{nums}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{elif}\PY{+w}{ }\PY{n}{op\PYZus{}s}\PY{+w}{ }\PY{o}{==}\PY{+w}{ }"\PY{n}{plus}"\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{result}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{reduce}\PY{p}{(}\PY{n}{op}\PY{p}{.}\PY{n}{add}\PY{p}{,}\PY{+w}{ }\PY{n}{nums}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{result}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Usage and Output}


\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{kernprof}\PY{p}{.}\PY{n}{py}\PY{+w}{ }\PY{o}{-}\PY{n}{v}\PY{+w}{ }\PY{o}{-}\PY{n}{l}\PY{+w}{ }\PY{n}{compute}\PY{p}{.}\PY{n}{py}

\PY{n}{Line}\PY{+w}{ }\PYZsh{}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{Hits}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{Time}\PY{+w}{ }\PY{+w}{ }\PY{n}{Per}\PY{+w}{ }\PY{n}{Hit}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{c}{\PYZpc{}}\PY{+w}{ }\PY{c}{Time}\PY{+w}{ }\PY{+w}{ }\PY{c}{Line}\PY{+w}{ }\PY{c}{Contents}
\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{p}{@}\PY{n}{profile}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }5\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{def}\PY{+w}{ }\PY{n}{compute}\PY{p}{(}\PY{n}{args}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }6\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }606\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }843\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{p}{.}4\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}9\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{op\PYZus{}s}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{args}\PY{p}{[}0\PY{p}{]}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }7\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }606\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2607\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{p}{.}3\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }8\PY{p}{.}9\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{nums}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{map}\PY{p}{(}\PY{n}{int}\PY{p}{,}\PY{+w}{ }\PY{n}{args}\PY{p}{[}1\PY{p}{:}\PY{p}{]}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }8\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }606\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }873\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{p}{.}4\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }3\PY{p}{.}0\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{if}\PY{+w}{ }\PY{n}{op\PYZus{}s}\PY{+w}{ }\PY{o}{==}\PY{+w}{ }"\PY{n}{power}"\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }9\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }101\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }20931\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }207\PY{p}{.}2\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }71\PY{p}{.}6\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{result}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{reduce}\PY{p}{(}\PY{n}{op}\PY{p}{.}\PY{n}{pow}\PY{p}{,}\PY{+w}{ }\PY{n}{nums}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }10\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }505\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }624\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{p}{.}2\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}1\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{elif}\PY{+w}{ }\PY{n}{op\PYZus{}s}\PY{+w}{ }\PY{o}{==}\PY{+w}{ }"\PY{n}{plus}"\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }11\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }101\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }224\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}2\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }0\PY{p}{.}8\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{result}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{n}{reduce}\PY{p}{(}\PY{n}{op}\PY{p}{.}\PY{n}{add}\PY{p}{,}\PY{+w}{ }\PY{n}{nums}\PY{p}{)}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }12\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }606\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }794\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }1\PY{p}{.}3\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }2\PY{p}{.}7\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{result}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Memory Profiler}


\begin{block}{ \centering \LARGE Memory Profiler }

\centering \Large Awesome - Experimental \& Slow

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Memory Profiler}

\begin{itemize}

\item memory\_profiler is a third party library for determining memory consumption.

\item pip install memory\_profiler

\item line-by-line stats on cumulative memory usage.
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Usage and Output}


\begin{Verbatim}[commandchars=\\\{\}]
\PY{p}{@}\PY{n}{profile}
\PY{n}{def}\PY{+w}{ }\PY{n}{func}\PY{p}{(}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{a}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}0\PY{p}{]}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }10
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{b}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}0\PY{p}{]}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }1000
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{c}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}0\PY{p}{]}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }10000000
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{a}\PY{p}{,}\PY{+w}{ }\PY{n}{b}\PY{p}{,}\PY{+w}{ }\PY{n}{c}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Usage and Output}


\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{memory\PYZus{}profiler}\PY{+w}{ }\PY{o}{-}\PY{n}{l}\PY{+w}{ }\PY{o}{-}\PY{n}{v}\PY{+w}{ }\PY{n}{mem\PYZus{}ex}\PY{p}{.}\PY{n}{py}

\PY{n}{Line}\PY{+w}{ }\PYZsh{}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{Mem}\PY{+w}{ }\PY{n}{usage}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{Line}\PY{+w}{ }\PY{n}{Contents}
\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{o}{==}\PY{p}{=}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }3\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{p}{@}\PY{n}{profile}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }4\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }6\PY{p}{.}65\PY{+w}{ }\PY{n}{MB}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{def}\PY{+w}{ }\PY{n}{func}\PY{p}{(}\PY{p}{)}\PY{p}{:}
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }5\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }6\PY{p}{.}66\PY{+w}{ }\PY{n}{MB}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{a}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}0\PY{p}{]}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }10
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }6\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }6\PY{p}{.}67\PY{+w}{ }\PY{n}{MB}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{b}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}0\PY{p}{]}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }1000
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }7\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }82\PY{p}{.}97\PY{+w}{ }\PY{n}{MB}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{n}{c}\PY{+w}{ }\PY{p}{=}\PY{+w}{ }\PY{p}{[}0\PY{p}{]}\PY{+w}{ }\PY{o}{*}\PY{+w}{ }10000000
\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }8\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }82\PY{p}{.}97\PY{+w}{ }\PY{n}{MB}\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{+w}{ }\PY{k}{return}\PY{+w}{ }\PY{n}{a}\PY{p}{,}\PY{+w}{ }\PY{n}{b}\PY{p}{,}\PY{+w}{ }\PY{n}{c}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{New Relic}


\begin{block}{ \centering \LARGE Web Application Profiling }

\centering \Large New Relic

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Web Application Profiling}

\begin{itemize}

\item New Relic is a commercial offering that specializes in web app performance monitoring.

\item Provides \emph{real-time} statistics on \emph{production} servers.
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Metrics}

\begin{itemize}

\item Time spent in Python vs Servers vs Database.

\item Slowest database queries.
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{timeit}


\begin{block}{ \centering \LARGE Micro Benchmarks }

\centering \Large timeit module

\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Micro Benchmarks with timeit}

\begin{itemize}

\item \DUroletitlereference{timeit} module can be used to profile individual statements or blocks in the code.

\item Runs the code multiple times to collect more data points.

\item Turns off Garbage Collector for accuracy.
\end{itemize}

\begin{Verbatim}[commandchars=\\\{\}]
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{timeit}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{range(0,1000)'}
100000\PY{+w}{ }\PY{n}{loops}\PY{p}{,}\PY{+w}{ }\PY{n}{best}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }3\PY{p}{:}\PY{+w}{ }12\PY{+w}{ }\PY{n}{usec}\PY{+w}{ }\PY{n}{per}\PY{+w}{ }\PY{n}{loop}
\PYZdl{}\PY{+w}{ }\PY{n}{python}\PY{+w}{ }\PY{o}{-}\PY{n}{m}\PY{+w}{ }\PY{n}{timeit}\PY{+w}{ }\PY{l+s}{'}\PY{l+s}{xrange(0,1000)'}
1000000\PY{+w}{ }\PY{n}{loops}\PY{p}{,}\PY{+w}{ }\PY{n}{best}\PY{+w}{ }\PY{n}{of}\PY{+w}{ }3\PY{p}{:}\PY{+w}{ }0\PY{p}{.}253\PY{+w}{ }\PY{n}{usec}\PY{+w}{ }\PY{n}{per}\PY{+w}{ }\PY{n}{loop}
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
\frametitle{Questions}


\begin{block}{ \centering \LARGE Questions }

\end{block}
\end{frame}

\end{document}
